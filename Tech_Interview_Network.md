# Tech Interview - Network

OSI 7계층을 설명하시오

전송계층과 데이터링크 계층 모두 신뢰성 관련 기능을 제공하는데, 어떤 차이가 있나요?

전송계층이 데이터 분실을 확인하는 방법에 대해 설명해주세요.

전송계층이 제공하는 신뢰성 관련 기능 중, 흐름제어에 대해 설명해주세요.

전송계층이 제공하는 신뢰성 관련 기능 중, 오류제어(재전송 프로토콜)에 대해 설명해주세요.

전송계층이 제공하는 신뢰성 관련 기능 중, 혼잡제어에 대해 설명해주세요.

포트가 무엇이고, 소켓이 무엇인지 설명해주세요.

> TCP란?

TCP란 전송 계층(4계층)에서 서버와 클라이언트 간에 신뢰성 있는 데이터 전송을 위해 설계된 프로토콜입니다.
데이터를 전송하기 전에 3-way handshake를 통해 연결을 설정한 후에 데이터를 전송합니다.
TCP를 사용하면 데이터의 순서가 뒤바뀌는 경우를 감지해서 순서를 재조정하거나,
데이터가 손실되는 경우를 감지해서 재전송을 요청하는 등 신뢰성 있는 데이터 전송을 보장합니다.  
마지막으로 데이터 전송이 완료되면 4-way handshake를 통해 연결을 안전하게 해제합니다.

3-way handshaking이란?

TCP Connection에서 3-way handshaking을 사용하는 이유는 무엇인가요?

그렇다면 TCP Connection을 해제하는 경우는 어떻나요?

연결해제 시 4-way handshacking을 사용하는 이유는 무엇인가요?

Server가 Client에게 FIN 플래그를 전송하기 전에 전송한 패킷이 지연이나 유실로 인해 재전송이 일어나 FIN 패킷보다 늦게 도착하면 어떻게 처리를 하나요?

> UDP란?

UDP란 전송 계층(4계층)에서 서버와 클라이언트 간의 데이터 전송을 위한 프로토콜입니다.
하위 계층인 IP를 거의 그대로 사용하기 때문에 신뢰성이 낮고, 데이터 전송 전에 연결 설정 과정이 없는 비연결형이기 때문에 전송 속도가 빠릅니다.

해당 패킷의 순서를 표시하거나, 의도한 대로 도착했는지 여부를 확인하지 않기 때문에
실시간 스트리밍 같은 신뢰성보다는 속도가 중요한 서비스에 사용됩니다.

> UDP에 Checksum 필드가 있는 이유는 무엇일까요?

UDP에 Checksum이 있는 이유는 데이터의 손실을 감지하기 위해서입니다.
UDP는 데이터의 손실을 감지하기 위해서 데이터의 체크섬을 계산하여, 데이터 손실을 감지합니다.
UDP 자체는 데이터의 손실을 복구하는 기능이 없기 때문에, 데이터를 복구하는 것은 상위 계층에서 처리해야합니다.
즉, Checksum 필드가 있는 이유는 데이터의 손실을 감지하고 상위 계층에 알리기 위해서 입니다.

TCP 와 UDP의 차이점에 대해 설명해 주세요.

UDP가 TCP에 비해 갖는 장점에 대해 설명해보세요.

TCP가 UDP에 비해 갖는 장점에 대해 설명해보세요.

HTTP의 특징에 대해 설명해주세요.

HTTP와 HTTPS의 차이는?

HTTP/1.1과 HTTP/2의 차이는?

> HTTP/1.0, /1.1, /2.0 정의 및 차이점은?

HTTP/1.0  
HTTP/1.0에서는 요청과 응답을 주고받을 때마다 새로운 TCP 연결을 사용해야합니다.

HTTP/1.1  
HTTP/1.1에서는 keep-alive 헤더를 사용해서 여러 요청/응답에 대해 하나의 TCP 커넥션을 재사용할 수 있습니다.

또한 하나의 TCP 커넥션에서 응답을 기다리지 않고 여러 요청을 연속적으로 보내고 그 순서에 맞춰 응답을 받는 파이프라이닝 방식을 지원합니다.

하지만 HTTP/1.1에서 파이프라이닝은 Head Of Line Blocking이라는 문제가 발생할 수 있습니다. Head Of Line Blocking이란  한번에 여러 요청이 왔을 때 순차적으로 응답을 보내기 위해서 이미 처리가 완료된 후속 데이터가 대기하게 되는 것을 의미합니다.

HTTP/2.0  
HTTP/1.1에서 HOLB 문제는 물리적인 TCP 연결을 여러개 두는 방식으로 해결할 수 있습니다. 대부분의 브라우저는 기본적으로 6개의 동시 TCP 연결을 지원하는 것으로 알고있습니다.

하지만 이는 임시적인 해결책이기 때문에 HTTP/2.0에서는 하나의 TCP 연결에서 순서에 상관없이 여러 요청을 받기 위해 Binay Framing Layer를 사용해서 multiplexing을 구현했습니다.

Binay Framing Layer는 스트림, 메시지, 프레임으로 구성됩니다. 먼저 데이터를 바이너리 포맷의 프레임 단위로 분할하고 이를 메시지 단위로 요청/응답을 구성합니다. 메시지는 스트림이라는 논리적인 단위로 전송합니다. 각 스트림은 31비트의 고유한 식별자를 갖기 떄문에 순서에 상관없이 병렬적으로 처리될 수 있게 됩니다.

> HTTP의 Keep-alive 헤더에 대해 설명해주세요.

http/1.0에서는 매 요청마다 새로운 TCP 커넥션을 생성해야 했습니다. http/1.1은 TCP 커넥션을 커넥션을 재사용하기 위해서 keep-alive을 추가했습니다.

keep-alive를 사용하기 위해서는 요청을 보낼 때 Connection 헤더를 keep-alive로 설정해야합니다. 응답을 보대는 서버에서도 동일하게 Connection 헤더를 keep-alive로 설정해주고, Keep-Alive 헤더에 timeout과 max 값을 설정해주면 됩니다.
timeout으로 설정한 시간 동안 request가 없는 경우, 커넥션은 종료됩니다. max값은 해당 커넥션에서 주고받을 수 있는 최대 요청개수입니다.

> GET과 POST의 차이는?

<!-- TODO -->

> PUT은 update만 되나요?

<!-- TODO -->

> HTTP 상태 코드에 대해 아는 대로 말해보세요.

<!-- TODO -->

> HTTP 상태코드 300번대에 아는 것 아무거나 말씀해주세요.

<!-- TODO -->

> HTTP 상태코드 304번은 뭔지 아시나요?

<!-- TODO -->

HTTP 상태코드 304번에 대해 응답하도록 하려면 서버에서 어떻게 구현하면 되나요?

> 멱등성에 대해 설명하고, HTTP 메소드에서는 어떤 메소드가 멱등성 메소드인지 설명해주세요.

멱등성이란 여러 번 동일한 요청을 보냈을 때, 서버에 미치는 의도된 영향이 동일한 경우를 의미합니다. 예를들어 결제 중간에 연결이 끊겨서 다시 요청이 보내졌을 떄, 중복 결제가 되면 치명적인 문제가 발생하게 됩니다. 따라서 HTTP에서는 멱등성을 고려하여 재시도 요청을 보내야합니다. HTTP 메소드에서 멱등성이 있는 메서드는 GET, PUT, DELETE이고, 멱등성이 없는 메서드는 POST, PATCH 메서드 입니다.

GET 메서드의 경우에는 같은 요청을 여러번 해도 같은 결과가 조회됩니다. DELETE의 경우에도 상태코드와 무관하게 리소스가 없는 상태가 계속 유지됩니다. 또한 PUT 메서드의 경우에도 대상 리소스를 완전히 대체하여 동일한 상태로 만들기 때문에 멱등성이 있다고 볼 수 있습니다.

POST의 경우 여러번 호출하면 호출될 때마다 요청된 데이터가 추가될 수 있다. PATCH의 경우에는 API 설계 상 완전히 대체하는 것이 아니기 때문에 특정 필드를 증가시키거나 append하는 경우 멱등성을 보장할 수 없습니다.

> HTTP 제외하고 다른 프로토콜에 대해 아시는거 설명해주세요.

<!-- TODO -->

> Connection Timeout과 Read Timeout의 차이에 대해 설명해주세요.

<!-- TODO -->

> 공인 IP와 사설 IP의 차이에 대해 설명할 수 있나요?

<!-- TODO -->

> DNS의 정의와 DNS가 필요한 이유

DNS(Domain Name System)는 인터넷에서 도메인 이름을 IP 주소로 변환하는 시스템입니다. IP 주소는 숫자로 되어있기 때문에 도메인 이라는 사람이 이해하기 쉬운 문자 형태로 변환해서 사용합니다.

DNS가 없다면 인터넷의 수많은 웹사이트의 도메인 주소를 로컬에 저장해서 사용해야합니다. 또한 IP 주소는 변경될 수 있기 때문에 특정 웹사이트가 서버를 이전하거나 IP 주소를 변경할 경우 해당 웹사이트로 접속할 수가 없습니다.

> 라우터와 스위치의 차이는?

**라우터**는 두 개 이상의 개별 네트워크를 연결하고, 패킷 형태로 데이터 전송하는 네트워크 계층 장비이며, IP를 기반으로 동작합니다.

반면 **스위치**는 단일 네트워크 내에서 서로 다른 장치를 연결하는 데이터 링크 계층(2계층) 장비이며 MAC 주소를 기반으로 동작합니다.

> 로드 밸런싱(Load Balancing)이 무엇인가요?

<!-- TODO -->